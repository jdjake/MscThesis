%% The following is a directive for TeXShop to indicate the main file
%%!TEX root = diss.tex

\chapter{Related Work}
\label{ch:RelatedWork}

\section{Keleti: A Translate Avoiding Set}

Keleti's two page paper constructs a full dimensional subset $X$ of $[0,1]$ such that $X$ intersects $t + X$ in at most one place for each nonzero real number $t$. If this is true, we say that $X$ \emph{avoids translates}. This paper contains the core idea behind the interval dissection method we adapt in our proof, which makes this paper of interest. In this section, and in the sequel, we shall find it is most convenient to avoid certain configurations by expressing them in terms of an equation, whose properties we can then exploit. One feature of translation avoidance is that the problem is specified in terms of a linear equation.

\begin{lemma}
    Let $X$ be a set. Then $X$ avoids translates if and only if there do not exists values $x_1 < x_2 \leq x_3 < x_4$ in $X$ with $x_2 - x_1 = x_4 - x_3$.
\end{lemma}
\begin{proof}

    Suppose $(t + X) \cap X$ contains two points $a < b$. Without loss of generality, we may assume that $t > 0$. If $a \leq b - t$, then the equation
    %
    \[ a - (a - t) = t = b - (b - t) \]
    %
    satisfies the constraints, since $a - t < a \leq b - t < b$ are all elements of $X$. We also have
    %
    \[ (b - t) - (a - t) = b - a, \]
    %
    which satisfies the constraints if $a - t < b - t \leq a < b$. This covers all possible cases. Conversely, if there are $x_1 < x_2 \leq x_3 < x_4$ in $X$ with
    %
    \[ x_2 - x_1 = t = x_4 - x_3, \]
    %
    then $X + t$ contains $x_2 = x_1 + (x_2 - x_1)$ and $x_4 = x_3 + (x_4 - x_3)$.
\end{proof}

%\footnote{We always assume $L_n/L_{n+1}$ is an integer so that intervals in $\mathcal{B}(L_n)$ are either almost disjoint from intervals in $\mathcal{B}(L_{n+1})$ or contained completely within such an interval}

The basic, but fundamental idea to Keleti's technique is to introduce memory into Cantor set constructions. Keleti constructs a nested family of discrete sets $X_0 \supset X_1 \supset \dots$ converging to $X$, with each $X_k$ a union of disjoint intervals in $\B(l_k, \RR^d)$, for a decreasing sequence of lengths $\{ l_k \}$ converging to zero, to be chosen later, but with $10 l_{k+1} \mid l_k$. We initialize $X_0 = [0,1]$, and $l_0 = 1$. Furthermore, we consider a queue of intervals, initially just containining $[0,1]$. To construct the sequence $\{ X_k \}$, Keleti iteratively performs the following procedure:
%
\begin{algorithm}[H]
    \begin{algorithmic}%[1]
        \caption{Construction of the Sets $\{ X_k \}$:}
        \State{Set $k = 0$.}
        \MRepeat
            \State{Take off an interval $I$ from the front of the queue.}

            \MForAll{\ $J \in \B(l_k, \RR^d)$ contained in $X_k$:}
                \State{Order the intervals in $\B(l_{k+1}, \RR^d)$ contained in $J$ as $J_0, J_1, \dots, J_N$.}

                \State{{\bf If} $J \subset I$, add all intervals $J_i$ to $X_{k+1}$ with $i \equiv 0$ modulo 10.}
                \State{{\bf Else} add all $J_i$ with $i \equiv 5$ modulo 10.}
            \EndForAll
            \State{Add all intervals in $\B(l_{k+1})$ to the end of the queue.}
            \State{Increase $k$ by 1.}
        \EndRepeat   
    \end{algorithmic}
\end{algorithm}

Each iteration of the algorithm produces a new set $X_k$, and so leaving the algorithm to repeat infinitely produces a decreasing sequence $\{ X_k \}$ whose intersection is $X$.

\begin{lemma}
    The set $X$ is translate avoiding.
\end{lemma}
\begin{proof}
    If $X$ is not translate avoiding, there is $x_1 < x_2 \leq x_3 < x_4$ with $x_2 - x_1 = x_4 - x_3$. Since $l_k \to 0$, there is a suitably large integer $N$ such that $x_1$ is contained in an interval $I \in \B(l_N,\RR^d)$ not containing $x_2,x_3$, or $x_4$. At stage $N$ of the algorithm, the interval $I$ is added to the end of the queue, and at a much later stage $M$, the interval $I$ is retrieved. Find the startpoints $x_1^\circ, x_2^\circ$, $x_3^\circ, x_4^\circ \in l_M \mathbf{Z}$ to the intervals in $\B(l_M,\RR^d)$ containing $x_1$, $x_2$, $x_3$, and $x_4$. Then we can find $n$ and $m$ such that $x_4^\circ - x_3^\circ = (10n)l_M$, and $x_2^\circ - x_1^\circ = (10m + 5)l_M$. In particular, this means that $|(x_4^\circ - x_3^\circ) - (x_2^\circ - x_1^\circ)| \geq 5L_M$. But
    %
    \begin{align*}
        |(x_4^\circ - x_3^\circ) - (x_2^\circ - x_1^\circ)| &= |[(x_4^\circ - x_3^\circ) - (x_2^\circ - x_1^\circ)] - [(x_4 - x_3) - (x_2 - x_1)]|\\
        &\leq |x_1^\circ - x_1| + \dots + |x_4^\circ - x_4| \leq 4 L_M
    \end{align*}
    %
    which gives a contradiction.
\end{proof}

The algorithm shows that
%
\[ \B(l_k,X_k) = (l_{k-1}/10l_k) \B(l_{k-1},X_{k-1}). \]
%
Thus closing the recursive definition shows
%
\[ \B(l_k,X_k) = \frac{1}{10^k l_k}. \]
%
In particular, this means $|X_k| = 1/10^k$, so $X$ has measure zero irrespective of our parameters. Nonetheless, the canonical measure $\mu$ on $X$ defined with respect to the decomposition $\{ X_k \}$ satisfies $\mu(I) = 10^k l_k$ for all $I \in \B(l_k,X)$. If $10^k l_k^\varepsilon \lesssim_\varepsilon 1$ for all $\varepsilon$, then we can establish the bounds $\mu(I) \lesssim_\varepsilon l_k^{1-\varepsilon}$ for all $\varepsilon$. In particular this is true if we set $l_k = 1/10^{\lfloor k \log k \rfloor}$. And because this sequence does not rapidly decrease too fast, we can apply Lemma \ref{easyCoverTheorem} to show $\mu$ is a Frostman measure of dimension $1-\varepsilon$ for each $\varepsilon > 0$, so $X$ has full Hausdorff dimension.







\section{Fraser/Pramanik: Smooth Configurations}

Inspired by Keleti's result, Pramanik and Fraser obtained a generalization of the queue method which allows one to find sets avoiding $d+1$ point configurations given by the zero sets of smooth functions, i.e.
%
\[ \C = \{ (x_0, \dots, x_n) : f(x_0, \dots, x_n) = 0 \}, \]
%
under mild regularity conditions on the function $f$. To obtain this result, rather than making a linear shift in one of the intervals we avoid as in Keleti's approach, one must use the smoothness properties of the function to find large segments of an interval avoiding solutions to another interval.

\begin{theorem} \label{pramanikfraserbuildingblock}
    Let $f: \mathbf{R}^{n+1} \to \mathbf{R}$ be a $C^1$ function, and consider $T_0, \dots, T_n \subset [0,1]$, with each set $T_k$ a union of intervals in $\B(1/M,[0,1])$. Suppose that $\partial_0 f$ is bounded below on $T_0 \times \dots \times T_d$. Then there exists an integer $K$, such that if  $N \in (KM) \mathbf{Z}$, then there are $S_k \subset T_k$, each a union of cubes in $\B(1/KN^n,T_k)$ with
    %
    \begin{enumerate}
        \item \label{avoidanceProperty} $f(x) \neq 0$ for $x \in S_0 \times \dots \times S_n$.

        \item \label{constantSelection} If $k \neq 0$, $S_k$ contains an interval in $\B(1/KN^n,I)$ for each $I \in \B(1/N,T_k)$.

        \item \label{minkowskiOneProperty} For a fraction $1 - 1/M$ of the cubes $I \in \B(1/N,T_0)$, $|S_0 \cap I| \geq 1/KN$.
    \end{enumerate}
\end{theorem}
\begin{proof}
    Let
    %
    \[ \mathbf{A} = \{ a \in \mathbf{R}^d : [a_k, a_k + 1/N) \in \B(1/N,T_n)\ \text{for each $k$} \} \]
    %
    and for each $k$, let
    %
    \[ S_k = \{ [a_k,a_k + C_0/N^n): a \in \mathbf{A} \}, \]
    %
    where $C_0$ will be defined later in the argument.

    To construct $S_0$, we define a set of `bad points' in $T_0$ as
    %
    \[ \mathbf{B} = \{ x \in T_0: \text{there is}\ a \in \mathbf{A}\ \text{such that}\ f(x,a) = 0 \}. \]
    %
    For each fixed $a \in \mathbf{A}$, the function $x \mapsto f(x,a)$ is either strictly increasing or strictly decreasing over each interval in $\B(1/M,T_0)$, and there are at most $M$ such intervals. We therefore obtain the bound
    %
    \[ \#(\mathbf{B}) \leq M \cdot \#(\mathbf{A}) \leq MN^n. \]
    %
    Now if we define
    %
    \[ \mathcal{I} = \{ I \in \B(1/N,T_0): \# (I \cap \mathbf{B}) \leq M^3N^{n-1} \}, \]
    %
    then
    %
    \[ M^3N^{n-1} \#(\B(1/N,T_0) - \mathcal{I}) \leq \# \mathcal{B}  \leq MN^n. \]
    %
    Rearranging this equation shows
    %
    \[ \frac{\#(\B(1/N,T_0) - \mathcal{I})}{\# \B(1/N,T_0)} \leq \frac{N/M^2}{N/M} = 1/M, \]
    %
    so $\mathcal{I}$ contains a fraction $1 - 1/M$ of all intervals in $\B(1/N,T_0)$. The next lemma shows there exists a constant $C_1$ for which, if $x \in T_0$ is any number such that there is $y \in S_1 \times \dots \times S_n$ with $f(x,y) = 0$, then $d(x,\mathbf{B}) \leq C_0C_1/N^n$. Thus if we define
    %
    \[ S_0 = \bigcup \left\{ J \in \bigcup_{I \in \mathcal{I}} \B(C_0C_1/8M^3N^n, I) : d(J,\mathbf{B}) \geq 2C_0C_1/N^n \right\}, \]
    %
    then Property \ref{avoidanceProperty} is satisfied.

    For each point in $\mathbf{B}$, we discard the interval containing $\mathbf{B}$, as well as the interval

    Since each $I \in \mathcal{I}$ contains at most $M^3N^{n-1}$ points in $\mathbf{B}$, we keep at least $M^3N^{n-1}$ intervals from each interval $I$ (we discard each interval containing a point $\mathbf{B}$, or adjacent to such an interval)

    then for each $I \in \mathcal{I}$,
    %
    \[ |S_0 \cap I| \geq (M^3N^{n-1})/(4N^nM^3) = 1/4N. \]
    %
    Thus $S_0$ satisfies Property \ref{minkowskiOneProperty}. The next lemma implies that $S_0 \times \dots \times S_n$ satisfies Property \ref{avoidanceProperty}, completing the proof.
\end{proof}

\begin{remark}
    Property \ref{avoidanceProperty} implies we obtain a configuration avoiding set in the limit of the construction we are about to describe. Property \ref{constantSelection} implies the set we construct will have Hausdorff dimension $1/d$. The purpose of \ref{minkowskiOneProperty} is to obtain a set with full Minkowski dimension.
\end{remark}

\begin{lemma}
    Let $f: [0,1]^{n+1} \to \RR$ be a $C^1$ function, together with a sequence of sets $T_0, \dots, T_n \subset [0,1]$, each a union of intervals in $\B(1/M,[0,1])$. Suppose that $|\partial_0 f|$ is bounded below on $T_0 \times \dots \times T_d$. Then there exists a constant $C_0$ such that, if $N$ and $C_0$ are fixed as in Theorem \ref{pramanikfraserbuildingblock}, and the respective sets $S_1, \dots, S_n$ and $\mathbf{B}$ are defined as in Theorem \ref{pramanikfraserbuildingblock}, then for any $x \in T_0$, if there is $y \in S_1 \times \dots \times S_n$ with $f(x,y) = 0$, then $d(x, \mathbf{B}) \leq C_0C_1/N^n$.
\end{lemma}
\begin{proof}
    Since $T_0 \times \dots \times T_d$ breaks into finitely many cubes with sidelengths $1/M$, it suffices to prove the theorem for a particular cube $J$ in this decomposition. Without loss of generality, we may assume $f^{-1}(0)$ intersects $J$. Write $J = I \times J'$, where $I$ is an interval, and $J'$ is a $d$ dimensional cube. Let $U$ be the set of all $y \in J'$, for which there is $x \in I^\circ$ such that $f(x,y) = 0$. Then the implicit function theorem implies $U$ is open, and that there exists a $C^1$ function $g: U \to I$ such that if $f(x,y) = 0$ for $y \in U$, $x \in J'$, then $x = g(y)$. Then the function $h(y) = f(g(y),y)$ vanishes uniformly, so the chain rule implies
    %
    \[ 0 = (\partial_k h)(y) = (\partial_k f) (g(y),y) + (\partial_0 f) (g(y),y) (\partial_k g)(y) \]
    %
    Hence for $y \in U$,
    %
    \[ |(\nabla g)(y)| = \frac{|(\nabla f)(g(y),y)|}{|(\partial_0 f)(g(y),y)|} \leq \frac{\| \nabla f \|_{\infty}}{\inf \{ |\partial_0 f(z)| : z \in T_0 \times \dots \times T_n \}}. \]
    %
    The right hand side is a constant depending only on the function $f$ and the sets $T_0, \dots, T_d$, and we set $C_1$ equal to this value. If $N$ is chosen large enough, given any $y \in U \cap (S_1 \times \dots \times S_n)$, there is $a \in \mathbf{A} \cap U$ with $|x - a| \leq C_0/N^n$. But this means that
    %
    \[ |g(x) - g(a)| \leq |x - a| \| \nabla g \|_\infty \leq \frac{C_0 C_1}{N^n}, \]
    %
    and $g(a) \in \mathbf{B}$, completing the proof.

    If we set $K = 1/C_0$, then the sets $S_1, \dots, S_n$ already satisfy property \ref{constantSelection}.
    %
    If $N$ is chosen large enough, given any $x \in U \cap (S_1 \times \dots \times S_d)$, there is $a \in \mathbf{A} \cap U$ with $|x - a| \leq C_0/N^{d-1}$. But this means that
    %
    \[ |g(x) - g(a)| \leq |x - a| \| \nabla g \|_\infty \leq \frac{C_0 C_1}{N^{d-1}} \]
    %
    and $g(a) \in \mathbf{B}$, completing the proof.
\end{proof}

We again use a queuing process to a Cantor set construction. We construct a nested family of discrete sets $X_0 \supset X_1 \supset \dots$ converging to $X$, with each $X_k$ a union of disjoint intervals in $\B(l_k,\RR^d)$, for a decreasing sequence of lengths $\{ l_k \}$ converging to zero, to be chosen during the algorithm. We initialize $X_0 = [0,1]$, $l_0 = 1/d+1$. Our queue shall consist of $d+1$ tuples of disjoint intervals $(T_0, \dots, T_d)$, all of the same length, which initially consists of all possible rearrangements of the intervals $\{ [0,1/d+1), [1/d+1,2/d+1), \dots, [d/d+1, 1) \}$. To construct the sequence $\{ X_k \}$, we perform the following iterative procedure:
%
\begin{algorithm}[H]
    \begin{algorithmic}
        \caption{Construction of the Sets $\{ X_k \}$}
        \State{Set $k = 0$}
        \MRepeat
            \State{Take off a $d+1$ tuple $(T_0', \dots, T_d')$ from the front of the queue}
            \State{Set $T_i = T_i' \cap X_k$ for each $i$}
            \State{Apply Theorem \ref{pramanikfraserbuildingblock} to the sets $T_0, \dots, T_d$, with $M = 1/l_k$ and with an appropriately large integer $N_k \in M \mathbf{Z}$, to obtain a rational constant $C_k$, not depending on $N_k$, and sets $S_0, \dots, S_d$, each unions of length $C_k/N_k^d$ intervals, satisfying Property \ref{avoidanceProperty}, \ref{constantSelection}, and \ref{minkowskiOneProperty}.}
            \State{Set $l_{k+1} = C_k/N_k^d$.}
            \State{Set $X_{k+1} = X_k - \bigcup_{i = 0}^d (T_i - S_i)$.}
            \State{Add all $d+1$ tuples of disjoint intervals $(T_0', \dots, T_d')$ in $\B(l_{k+1},X_{k+1})$ to the back of the queue.}
            \State{Increase $k$ by 1.}
        \EndRepeat   
    \end{algorithmic}
\end{algorithm}

Suppose that $x_0, \dots, x_d \in X$ are distinct. Then at some stage $k$, $x_0, \dots, x_d$ lie in distinct intervals $T_0', \dots, T_d' \in \B(l_k,X_k)$. At this stage, $(T_0', \dots, T_d')$ is added to the back of the queue, and therefore, at some much later stage $N$, is taken off the front. Sets $S_0 \subset T_0', \dots, S_d \subset T_d'$ are constructed satisfying Property \ref{avoidanceProperty}, and since $x_i \in S_i$ for each $i$, $f(x_0, \dots, x_d) \neq 0$. Thus $X$ avoids the configuration $\C$.

What remains is to bound the Hausdorff dimension of $X$. First, we construct the canonical measure $\mu$ on $X$ with respect to the Cantor-type decomposition $\{ X_k \}$. We have $l_k = 1/M_k$, and $l_{k+1} = C_k/N_k^d$. We let $r_{k+1} = 1/N_k$. Let $K \in \B(l_{k+1},X)$, $J \in \B(r_k,X)$, and $I \in \B(l_k,X)$. To calculate a bound on the mass of $K$, we consider the various decompositions considered in the algorithm:
%
\begin{itemize}
        \item If $I$ is subdivided in the non-specialized manner, then every length $r_k$ interval recieves the same mass, which is allocated to a single length $l_{k+1}$ interval it contains. Thus
        %
        \[ \mu(K) = \mu(J) \leq (r_k/l_k) \mu(I). \]
        \item In $I$ is subdivided in the specialized manner, at least a fraction $1 - 1/M_k$ of the length $1/N_k$ intervals are assigned mass. Since $M_k \geq 2$,
        %
        \[ \mu(J) \leq (r_k/l_k)(1 - 1/M_k)^{-1} \leq (2r_k/l_k) \mu(I). \]
        %
        The set $X_{k+1}$ contains more than $C_k/N_k$ of the interval $J$, so
        %
        \[ \mu(K) \leq \left( \frac{N_k}{C_k} l_{k+1} \right) \mu(J) \leq \frac{2 l_{k+1}}{l_k C_k} \mu(I). \]

        $(2/C_k) l_{k+1}$ vs. $l_{k+1}^{1/d}$
\end{itemize}
%
Thus in both cases, we find
%
\begin{itemize}
    \item Carrying out the recursion based on the relationship
    %
    \[ \mu(K) \leq (2l_{k+1}/l_k C_k) \mu(I), \]
    %
    we find that if $I \in \B(l_k,X)$, then
    %
    \[ \mu(I) \leq \frac{2^k}{C_1 \dots C_{k-1}} l_k \]
    %
    Thus if there are $\psi(k) \to \infty$ such that
    %
    \[ l_k \leq \left( \frac{C_1 \dots C_{k-1}}{2^k} \right)^{\psi(k)}, \]
    %
    we conclude $\mu(I) \lesssim_\varepsilon l_k^{1 - \varepsilon}$ for all $\varepsilon > 0$. Thus Property \ref{discreteBound} is satisfied.

    \item $\log(1/l_{k+1})/\log(1/r_{k+1}) = d - \log(C_k)/\log(N_k) \to d$.

    \item $\mu(J) \lesssim (r_k/l_k) \mu(I)$, so Property \ref{uniformDist} of Theorem \ref{uniformHausdorffResult} is satisfied.
\end{itemize}
%
Thus Theorem \ref{uniformHausdorffResult} shows that $\mu$ is a Frostman measure of dimension $1/(d-1) - \varepsilon$ for each $\varepsilon > 0$, and so $X$ is a set with Hausdorff dimension at least $1/(d-1)$.

\begin{remark}
    The set $X$ constructed is precisely a $1/(d-1)$ dimensional set. Recall that $X = \lim X_n$, where $X_n$ is a union of a certain number of length $1/M_n$ intervals $I_1, \dots, I_N$. For each $n$, the interval $I_i$ is inevitably subdivided at a stage $J_i$ into length $C_{J_i} N_{J_i}^{1-d}$ intervals for each length $1/N_{J_i}$ interval that $I_i$ contains. Thus
    %
    \[ H_{1/M_n}^\alpha(X) \leq \sum_{i = 1}^N \frac{N_{m_i}}{M_n} (C_{m_i} N_{m_i}^{1-d})^\alpha = \frac{1}{M_n} \sum_{i = 1}^N C_{m_i}^\alpha N_{m_i}^{1 - \alpha(d-1)} \]
    %
    We may assume that $C_{m_i} \leq 1$, so if $\alpha > 1/(d - 1)$, using the fact that $N \leq M_n$, since $X_n$ is contained in $[0,1]$, we obtain
    %
    \[ H_{1/M_n}^\alpha(X) \leq \frac{1}{M_n} \sum_{i = 1}^N N_{m_i}^{1 - \alpha(d-1)} \leq N_{\max(m_i)}^{1 - \alpha(d-1)} \leq 1 \]
    %
    Thus, taking $n \to \infty$, we conclude $H^\alpha(X) \leq 1 < \infty$, so as $\alpha \downarrow 1/(d - 1)$, we conclude that $X$ has Hausdorff dimension bounded above by $1/(d-1)$.
\end{remark}

\section{Higher Dimensional Pramanik Fraser}

\begin{lemma}
    Let $T \subset [0,1]^d$, and $T' \subset [0,1]^{kd}$ be unions of cubes in $\B(l,\RR^d)$ and $\B(l,\RR^{kd})$. Fix three lengths, $l$, $r$, and $s$. Fix $B \subset T \times T'$, which is a union of cubes in $\B(s,\RR^d)$. Then there exists a set $S \subset T$, which is a union of cubes in $\B(s,\RR^d)$, and a set $B' \subset T'$, which is a union of cubes in $\B(s,\RR^{kd})$ such that
    %
    \begin{enumerate}
        \item \label{bigProperty} For every $I \in \B(l,T)$, and for at least a fraction $1 - l$ of the cubes $J$ in $\B(r,I)$, $S$ contains a single cube in $\B(s,J)$, whereas $J \cap S = \emptyset$ otherwise.

        \item \label{BBoundProperty} $\#(\B(s,B')) \leq (1/l)^{d+1} (1/r)^d s^d \#(\B(s,B))$.

        \item \label{dimensionReductionProperty} $(S \times T') \cap B \subset S \cap B'$.
    \end{enumerate}
\end{lemma}
\begin{proof}
    Fix $I \in \B(l,T)$. For each $J \in \B(r,I)$, define a \emph{slab} to be
    %
    \[ S[J] = \bigcup J \times \B(r,T'). \]
    %
    Given any $K \in \B(s,\RR^d)$, we define a \emph{wafer} to be
    %
    \[ W[K] = \bigcup K \times \B(s,T'). \]
    %
    Note that a slab is the union of at most $(r/s)^d$ wafers, and $I$ supports $(l/s)^d$ wafers. In particular, if we say a wafer $W[K]$ is \emph{good} if
    %
    \[ \B(s,W[K] \cap B) \leq (s^d/l^{d+1}) \B(s,B), \]
    %
    then at most $l^{d+1}/s^d$ wafers are bad, which is a fraction $l$ of all wafers in $I$. We call a slab good if it contains a good wafer. Then at most $l$ of all slabs are bad. For each $J$ such that $S[J]$ is good, we select a single $K_J \in \B(s,J)$ such that $W[K]$ is good. We then define
    %
    \[ S = \bigcup_{I \in \B(l,T)} \left( \bigcup\ \{ K_J : S[J]\ \text{is good} \} \right). \]
    %
    Then $S$ satisfies Property \ref{bigProperty}.

    Let $B'$ be the union of all cubes $Q \in \B(s,T')$ such that there is $K \in \B(s,S)$ with $K \times Q \in \B(s,B)$. Then by definition, Property \ref{dimensionReductionProperty} is satisfied. The choice of $S$ implies that for each $K \in \B(s,S)$,
    %
    \[ \# \{ Q : K \times Q \in \B(s,B) \} \leq (s^d/l^{d+1}) \B(s,B) \]
    %
    But $\# \B(s,S) \leq \B(r,T) \leq (1/r)^d$, so
    %
    \[ \# \B(s,B') \leq \# \B(s,S) (s^d/l^{d+1}) \B(s,B) \leq s^d (1/r)^d (1/l^{d+1}) \B(s,B). \]
    %
    which establishes Property \ref{BBoundProperty}.
\end{proof}

We will use this lemma to continually reduce the dimensionality of the avoidance problem we are considering. Once we reach one dimension, we are in need of another lemma to complete the avoidance process.

\begin{lemma}
    Let $T$ be a union of cubes in $\B(l,\RR^d)$. Let $B \subset T$ be a union of cubes in $\B(s,T)$. Suppose
    %
    \[ \# \B(s,B) \leq C (1/l)^{(d+1)(k-1)} (1/r)^{d(k-1)} s^{m-n} \]
    %
    and
    %
    \[ s \leq C^{-1/m} l^{(1/m)((d+1)k + 1)} r^{n(k-1)/m}. \]
    %
    Then there exists $S \subset T$, which is a union of cubes in $\B(s,T)$ such that
    %
    \begin{enumerate}
        \item $S \cap B = \emptyset$.
        \item For all but a fraction $l$ of the cubes $I \in \B(r,T)$, $|S \cap I| \geq (1 - l) s^n$.
    \end{enumerate}
\end{lemma}
\begin{proof}
    By pidgeonholing, it suffices to focus on the cubes $J \in \B(r,\RR^d)$ for which
    %
    \[ \# \B(s,J \cap B) \leq l^{d+1} r^{-d} \# \B(r,B) \]
    %
    We then define $J$ to be equal to the union of all $J - B$, over the cubes $J$ satisfying the inequality above.
\end{proof}

\endinput